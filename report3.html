<html>
    <head>
        <title>Clock</title>
        <meta charset="UTF-8">
        <script src="https://unpkg.com/three@0.137.4/build/three.min.js"></script>
        <script src="https://unpkg.com/three@0.137.4/examples/js/controls/OrbitControls.js"></script>
    </head>
<body>
    <script>
        // ï¿½yï¿½[ï¿½Wï¿½Ì“Ç‚İï¿½ï¿½İ‚ï¿½Ò‚ï¿½
        window.addEventListener('DOMContentLoaded', init);

        function init() {
            // ï¿½Tï¿½Cï¿½Yï¿½wï¿½ï¿½
            var width = 800,
                height = 600;

            // ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ì¬ 
            var renderer = new THREE.WebGLRenderer();
            document.body.appendChild(renderer.domElement);
            renderer.setSize(width, height);
            renderer.shadowMap.enabled = true;      // ï¿½eï¿½ï¿½Lï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½

            // ï¿½Vï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ì¬
            var scene = new THREE.Scene();

            // ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¬
            var camera = new THREE.PerspectiveCamera(45, width / height, 1, 1000);
            camera.position.set(1, 1, 8);  //ï¿½Ê’uï¿½ï¿½ï¿½wï¿½ï¿½

            // ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½ï¿½ï¿½gï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ì¬
            const controls = new THREE.OrbitControls(camera, document.body);

            // ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½
            var dirLight = new THREE.DirectionalLight(0xffffff);
            dirLight.position.set(16, 4, 16);     //ï¿½Ê’uï¿½ï¿½ï¿½wï¿½ï¿½
            dirLight.castShadow = true;         // ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½Ì‰eï¿½ï¿½Lï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½
            scene.add(dirLight);     // ï¿½Vï¿½[ï¿½ï¿½ï¿½É’Ç‰ï¿½

            // ï¿½_ï¿½ï¿½ï¿½ï¿½
            const spotLight = new THREE.SpotLight(0x666666, 1, 45, Math.PI / 4, 10, 0.5);
            spotLight.position.set(5, 10, -15);
            spotLight.castShadow = true;    // ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½Ì‰eï¿½ï¿½Lï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½
            scene.add(spotLight);     // ï¿½Vï¿½[ï¿½ï¿½ï¿½É’Ç‰ï¿½

            // ï¿½ï¿½ï¿½Wï¿½\ï¿½ï¿½
            //const gridHelper = new THREE.GridHelper(2, 10); // size, step
            //scene.add(gridHelper);
            //const axisHelper = new THREE.AxisHelper(2); //ï¿½ï¿½ï¿½Ì’ï¿½ï¿½ï¿½ï¿½@Xï¿½Fï¿½ÔAYï¿½Fï¿½ÎAzï¿½Fï¿½ï¿½
            //scene.add(axisHelper);

            // ï¿½ï¿½ï¿½Ê‚ï¿½ï¿½ì¬
            var planeGeo = new THREE.PlaneGeometry(10, 10);
            var planeMaterial = new THREE.MeshPhongMaterial({ color: 0x00ff00 });
            var plane = new THREE.Mesh(planeGeo, planeMaterial);
            plane.receiveShadow = true;     // ï¿½eï¿½ï¿½ï¿½Â‚ï¿½ï¿½ï¿½
            plane.rotation.set(-Math.PI / 2, 0, 0);
            plane.position.set(0, -2, -2);
            scene.add(plane);

            // ï¿½ï¿½ï¿½ï¿½ï¿½ì¬
            var redMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 });
            var greenMaterial = new THREE.MeshPhongMaterial({ color: 0x69821b });
            var yellowMaterial = new THREE.MeshPhongMaterial({ color: 0xffff00 });
            var goldMaterial = new THREE.MeshPhongMaterial({ color: 0xe6b422 });
            var whiteMaterial = new THREE.MeshPhongMaterial({ color: 0xeeeeee });
            var glossMaterial = new THREE.MeshStandardMaterial({ color: 0x0000ff, roughness: 0.3 });

            var torusGeo = new THREE.TorusGeometry(1.5, 0.2, 12, 30)
            var torus = new THREE.Mesh(torusGeo, glossMaterial);
            torus.castShadow = true;    // ï¿½eï¿½ğ—‚Æ‚ï¿½
            torus.position.set(0, 0, 0);
            scene.add(torus);

            var sphereGeo = new THREE.SphereGeometry(0.1, 32, 32);
            var sphere = new THREE.Mesh(sphereGeo, goldMaterial);
            sphere.castShadow = true;
            sphere.position.set(0, 0, 0);
            scene.add(sphere)

            var boxGeo = new THREE.BoxGeometry(0.1, 0.7, 0.1);
            var box = new THREE.Mesh(boxGeo, greenMaterial);
            box.castShadow = true;
            box.position.set(0, 0.35, 0);

            var coneGeo = new THREE.ConeGeometry(0.12, 0.5, 4);
            var cone = new THREE.Mesh(coneGeo, greenMaterial);
            cone.castShadow = true;
            cone.rotation.set(0, Math.PI * 0.25, 0);
            cone.position.set(0, 0.95, 0);
            scene.add(cone);

            var boxGeo2 = new THREE.BoxGeometry(0.1, 0.35, 0.1);
            var box2 = new THREE.Mesh(boxGeo2, redMaterial);
            box2.castShadow = true;
            box2.position.set(0, 0.175, 0);
            scene.add(box2);

            var coneGeo2 = new THREE.ConeGeometry(0.12, 0.3, 4);
            var cone2 = new THREE.Mesh(coneGeo2, redMaterial);
            cone2.castShadow = true;
            cone2.rotation.set(0, Math.PI * 0.25, 0);
            cone2.position.set(0, 0.5, 0);
            scene.add(cone2);

            var starGeo = new THREE.TorusKnotGeometry(2, 0.3, 20, 6, 8, 5);
            var star = new THREE.Mesh(starGeo, yellowMaterial);
            star.position.set(5, 15, -30);
            star.castShadow = true;
            scene.add(star);

            // ï¿½Oï¿½ï¿½ï¿½[ï¿½vï¿½ï¿½
            const min = new THREE.Group();
            min.add(box);
            min.add(cone);
            min.position.set(0, 0, 0);
            scene.add(min);

            const hour = new THREE.Group();
            hour.add(box2);
            hour.add(cone2);
            hour.position.set(0, 0, 0);
            scene.add(hour);

            const hourDozen = new THREE.Group();
            for (let i = 0; i < 12; i++) {
                var dozenGeo = new THREE.BoxGeometry(0.05, 0.2, 0.01);
                var dozen = new THREE.Mesh(dozenGeo, whiteMaterial);

                var radian = i / 12 * Math.PI * 2;
                dozen.position.set(
                    1 * Math.cos(radian), // Xï¿½ï¿½ï¿½W
                    1 * Math.sin(radian), // Yï¿½ï¿½ï¿½W
                    0 // Zï¿½ï¿½ï¿½W
                );
                dozen.rotation.z = radian + Math.PI * (1 / 2);
                dozen.castShadow = true;
                hourDozen.add(dozen);
            }
            scene.add(hourDozen);

            update();

            // ï¿½ï¿½ï¿½[ï¿½vï¿½Cï¿½xï¿½ï¿½ï¿½g
            function update() {
                // ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½O
                renderer.render(scene, camera);
                requestAnimationFrame(update);

                // ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½ï¿½]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
                min.rotation.z -= Math.PI * 1 / 270;
                hour.rotation.z -= Math.PI * 1 / (270*12);

                star.rotation.x += 0.01;
                star.rotation.y += 0.01;
            }
        }
    </script>
</body>
</html>
